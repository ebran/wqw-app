<div id="{{ working_id }}" class="row mt-4">
    <div class="col-md-auto align-self-center">
        <div class="input-group col">
            <span class="input-group-text">N</span>
            <input id="fibonacci-number" type="text" class="form-control" style="width:75px" aria-label="Integer" placeholder="40">
            <button type="button" hx-get="/_html/add/" hx-target="#{{ working_id }}" hx-swap="outerHTML" class="btn btn-primary"
                style="margin-left: 15px;">Compute</button>
        </div>
    </div>
    <div class="col align-self-center htmx-hidden">
        <div class="progress" style="height: 38px;">
            <div class="progress-bar" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0"
                aria-valuemax="100">0%</div>
        </div>
    </div>
    <div class="col-md-1 align-self-center htmx-hidden">
        <div class="d-grid">
            <button type="button" class="btn btn-danger">Cancel</button>
        </div>
    </div>
</div>

{# This changes the request from /_html/add -> /_html/add/{n} #}
<script>
    document.body.addEventListener('htmx:configRequest', function(evt) {
        evt.detail.path = evt.detail.path.startsWith('/_html/add')
            ? '/_html/add/' + document.getElementById('fibonacci-number').value + '/'
            : evt.detail.path;
    });
</script>
